<%- layout("layouts/boilerplate") %>

<div class="container mt-5">
  <h2 class="mb-4">Submit a Complaint</h2>

  <form method="POST" action="/resident/newComplain" id="complaintForm" class="needs-validation" novalidate enctype="multipart/form-data">
    
    <!-- Title -->
    <div class="mb-3">
      <label for="title" class="form-label">Complaint Title</label>
      <input type="text" class="form-control" id="title" name="title" required>
      <div class="invalid-feedback">Please enter a complaint title.</div>
    </div>

    <!-- Category -->
    <div class="mb-3">
      <label for="category" class="form-label">Category</label>
      <select class="form-select" id="category" name="category" required>
        <option value="" disabled selected>Select Category</option>
        <option value="Maintenance">Maintenance</option>
        <option value="Security">Security</option>
        <option value="Noise">Noise</option>
        <option value="Parking">Parking</option>
        <option value="Cleaning">Cleaning</option>
        <option value="Other">Other</option>
      </select>
      <div class="invalid-feedback">Please select a category.</div>
    </div>

    <!-- Priority -->
    <div class="mb-3">
      <label for="priority" class="form-label">Priority</label>
      <select class="form-select" id="priority" name="priority" required>
        <option value="" disabled selected>Select Priority</option>
        <option value="Low">Low</option>
        <option value="Medium">Medium</option>
        <option value="High">High</option>
        <option value="Urgent">Urgent</option>
      </select>
      <div class="invalid-feedback">Please select a priority level.</div>
    </div>

    <!-- Description -->
    <div class="mb-3">
      <label for="description" class="form-label">Description</label>
      <textarea class="form-control" id="description" name="description" rows="4" required></textarea>
      <div class="invalid-feedback">Please enter a description.</div>
    </div>

    <!-- Created Date -->
    <div class="mb-3">
      <label for="created_at" class="form-label">Complaint Creation Date</label>
      <input type="date" class="form-control" id="created_at" name="created_at" required>
      <div class="invalid-feedback">Please select a creation date.</div>
    </div>

    <!-- Attachment -->
    <div class="mb-3">
      <label for="attachment" class="form-label">Attachment (optional)</label>
      <input type="file" class="form-control" id="attachment" name="attachment" accept="image/*,application/pdf">
    </div>

    <!-- Submit Button -->
    <button type="submit" class="btn btn-primary">
      <i class="bi bi-send"></i> Submit Complaint
    </button>

  </form>
</div>
