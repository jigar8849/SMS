<%- layout("layouts/boilerplate") %>

   <style>
    /* Base Styles */
    .dash-title {
        width: 81vw;
    }

    .dash-card {
        width: 16rem;
        height: 8rem;
    }

    .activities-box {
        width: 37vw;
    }

    .actions-box {
        width: 38vw;
    }

    .action-card {
        width: 15rem;
        border-radius: 0.5rem;
    }

    /* LARGE TABLETS - iPad Pro, large tablets (1024px) */
    @media (max-width: 1024px) {
        .admin-dash {
            padding: 1rem;
        }
        
        .dash-title {
            width: 90vw;
            padding: 1.5rem;
            border-radius: 1rem;
        }
        
        .dash-title h1 {
            font-size: 1.8rem !important;
            margin-left: 0 !important;
            padding-top: 0.5rem !important;
        }
        
        .dash-title p {
            font-size: 1rem !important;
            margin-left: 0 !important;
            padding-bottom: 0.5rem !important;
        }
        
        /* Force dashboard cards to show and arrange in 2x2 grid */
        .dash-info {
            display: flex !important;
            flex-wrap: wrap !important;
            gap: 1.5rem !important;
            justify-content: space-between !important;
            margin-bottom: 2rem;
        }
        
        .dash-card {
            width: 48% !important;
            height: auto !important;
            min-height: 7rem;
            padding: 1.25rem !important;
            border-radius: 1rem !important;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1) !important;
            background: white !important;
            display: flex !important;
            justify-content: space-between !important;
            align-items: center !important;
        }
        
        .dash-card h3 {
            font-size: 1.6rem !important;
            margin: 0 !important;
        }
        
        .dash-card p {
            font-size: 0.95rem !important;
            margin-bottom: 0.25rem !important;
        }
        
        .dash-card i {
            font-size: 2rem !important;
            padding: 0.8rem !important;
        }
        
        /* Activity and action boxes side by side */
        .active-action-boxes {
            flex-direction: row !important;
            gap: 1.5rem !important;
        }
        
        .activities-box, .actions-box {
            width: 48% !important;
            margin: 0 !important;
        }
        
        .action-card {
            width: 45% !important;
            padding: 1rem !important;
            min-height: 5rem;
        }
    }

    /* TABLET PORTRAIT - iPad, medium tablets (768px) */
    @media (max-width: 768px) {
        .admin-dash {
            padding: 1rem;
        }
        
        .dash-title {
            width: 100% !important;
            padding: 1.25rem !important;
            border-radius: 0.75rem !important;
            margin-bottom: 1.5rem !important;
        }
        
        .dash-title h1 {
            font-size: 1.5rem !important;
            margin-left: 0 !important;
            padding-top: 0 !important;
        }
        
        .dash-title p {
            font-size: 0.95rem !important;
            margin-left: 0 !important;
            padding-bottom: 0 !important;
        }
        
        /* Dashboard cards in 2x2 grid */
        .dash-info {
            display: flex !important;
            flex-wrap: wrap !important;
            gap: 1.25rem !important;
            justify-content: space-between !important;
            margin-bottom: 1.5rem !important;
        }
        
        .dash-card {
            width: 48% !important;
            height: auto !important;
            min-height: 6.5rem !important;
            padding: 1rem !important;
            border-radius: 0.75rem !important;
            box-shadow: 0 3px 12px rgba(0, 0, 0, 0.1) !important;
            background: white !important;
            display: flex !important;
            justify-content: space-between !important;
            align-items: center !important;
        }
        
        .dash-card h3 {
            font-size: 1.4rem !important;
            margin: 0 !important;
        }
        
        .dash-card p {
            font-size: 0.9rem !important;
            margin-bottom: 0.4rem !important;
        }
        
        .dash-card i {
            font-size: 1.8rem !important;
            padding: 0.7rem !important;
        }
        
        /* Activity and action boxes - still side by side */
        .active-action-boxes {
            flex-direction: row !important;
            gap: 1.25rem !important;
        }
        
        .activities-box, .actions-box {
            width: 48% !important;
            margin: 0 !important;
            border-radius: 0.75rem !important;
        }
        
        .activities-box h5, .actions-box h5 {
            font-size: 1rem !important;
            margin-left: 1rem !important;
        }
        
        .activities-box ul {
            font-size: 0.9rem !important;
            margin-left: 1rem !important;
        }
        
        .action-boxes .upper,
        .action-boxes .lower {
            margin-left: 1rem !important;
            gap: 0.75rem !important;
        }
        
        .action-card {
            width: 45% !important;
            padding: 0.8rem !important;
            min-height: 4.5rem !important;
            border-radius: 0.5rem !important;
        }
        
        .action-card i {
            font-size: 1.5rem !important;
        }
        
        .action-card p {
            font-size: 0.85rem !important;
            margin: 0.3rem 0 0 0 !important;
        }
    }

    /* SMALL TABLETS & LARGE PHONES (576px) */
    @media (max-width: 576px) {
        .admin-dash {
            padding: 0.75rem !important;
        }
        
        .dash-title {
            width: 100% !important;
            padding: 1rem !important;
            border-radius: 0.75rem !important;
            margin-bottom: 1.25rem !important;
        }
        
        .dash-title h1 {
            font-size: 1.3rem !important;
            margin-left: 0 !important;
            padding-top: 0 !important;
        }
        
        .dash-title p {
            font-size: 0.9rem !important;
            margin-left: 0 !important;
            padding-bottom: 0 !important;
        }
        
        /* Dashboard cards - 2 per row */
        .dash-info {
            display: flex !important;
            flex-wrap: wrap !important;
            gap: 1rem !important;
            justify-content: space-between !important;
            margin-bottom: 1.25rem !important;
        }
        
        .dash-card {
            width: 48% !important;
            height: auto !important;
            min-height: 6rem !important;
            padding: 0.9rem !important;
            border-radius: 0.75rem !important;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1) !important;
            background: white !important;
            display: flex !important;
            justify-content: space-between !important;
            align-items: center !important;
        }
        
        .dash-card h3 {
            font-size: 1.2rem !important;
            margin: 0 !important;
        }
        
        .dash-card p {
            font-size: 0.8rem !important;
            margin-bottom: 0.3rem !important;
        }
        
        .dash-card i {
            font-size: 1.5rem !important;
            padding: 0.6rem !important;
        }
        
        /* Stack activity and action boxes vertically */
        .active-action-boxes {
            flex-direction: column !important;
            gap: 1rem !important;
        }
        
        .activities-box, .actions-box {
            width: 100% !important;
            margin: 0 !important;
            border-radius: 0.75rem !important;
        }
        
        .activities-box h5, .actions-box h5 {
            font-size: 1rem !important;
            margin-left: 1rem !important;
        }
        
        .activities-box ul {
            font-size: 0.9rem !important;
            margin-left: 1rem !important;
        }
        
        .activities-box ul li {
            padding: 0.4rem 0 !important;
            line-height: 1.4 !important;
        }
        
        .action-boxes .upper,
        .action-boxes .lower {
            margin-left: 1rem !important;
            gap: 0.75rem !important;
        }
        
        .action-card {
            width: 45% !important;
            padding: 0.8rem !important;
            min-height: 4rem !important;
            border-radius: 0.5rem !important;
        }
        
        .action-card i {
            font-size: 1.4rem !important;
        }
        
        .action-card p {
            font-size: 0.8rem !important;
            margin: 0.3rem 0 0 0 !important;
        }
    }

    /* STANDARD MOBILE PHONES (480px) */
    @media (max-width: 480px) {
        .admin-dash {
            padding: 0.5rem !important;
        }
        
        .dash-title {
            width: 100% !important;
            padding: 1rem !important;
            border-radius: 0.75rem !important;
            margin-bottom: 1rem !important;
        }
        
        .dash-title h1 {
            font-size: 1.2rem !important;
            margin-left: 0 !important;
            padding-top: 0 !important;
        }
        
        .dash-title p {
            font-size: 0.85rem !important;
            margin-left: 0 !important;
            padding-bottom: 0 !important;
        }
        
        /* Dashboard cards - still 2 per row but smaller */
        .dash-info {
            display: flex !important;
            flex-wrap: wrap !important;
            gap: 0.75rem !important;
            justify-content: space-between !important;
            margin-bottom: 1rem !important;
        }
        
        .dash-card {
            width: 48% !important;
            height: auto !important;
            min-height: 5.5rem !important;
            padding: 0.75rem !important;
            border-radius: 0.75rem !important;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1) !important;
            background: white !important;
            display: flex !important;
            justify-content: space-between !important;
            align-items: center !important;
        }
        
        .dash-card h3 {
            font-size: 1.1rem !important;
            margin: 0 !important;
        }
        
        .dash-card p {
            font-size: 0.75rem !important;
            margin-bottom: 0.25rem !important;
        }
        
        .dash-card i {
            font-size: 1.3rem !important;
            padding: 0.5rem !important;
        }
        
        /* Activity and action boxes - stacked */
        .active-action-boxes {
            flex-direction: column !important;
            gap: 1rem !important;
        }
        
        .activities-box, .actions-box {
            width: 100% !important;
            margin: 0 !important;
            border-radius: 0.75rem !important;
        }
        
        .activities-box h5, .actions-box h5 {
            font-size: 0.95rem !important;
            margin-left: 0.75rem !important;
        }
        
        .activities-box ul {
            font-size: 0.85rem !important;
            margin-left: 0.75rem !important;
        }
        
        .activities-box ul li {
            padding: 0.35rem 0 !important;
            line-height: 1.3 !important;
        }
        
        .action-boxes .upper,
        .action-boxes .lower {
            margin-left: 0.75rem !important;
            gap: 0.5rem !important;
        }
        
        .action-card {
            width: 45% !important;
            padding: 0.7rem !important;
            min-height: 3.5rem !important;
            border-radius: 0.5rem !important;
        }
        
        .action-card i {
            font-size: 1.2rem !important;
        }
        
        .action-card p {
            font-size: 0.75rem !important;
            margin: 0.25rem 0 0 0 !important;
        }
    }

    /* SMALL MOBILE PHONES (410px) */
    @media (max-width: 410px) {
        .admin-dash {
            padding: 0.5rem !important;
        }
        
        .dash-title {
            width: 100% !important;
            padding: 0.75rem !important;
            border-radius: 0.75rem !important;
            margin-bottom: 1rem !important;
        }
        
        .dash-title h1 {
            font-size: 1.1rem !important;
            margin-left: 0 !important;
            padding-top: 0 !important;
        }
        
        .dash-title p {
            font-size: 0.8rem !important;
            margin-left: 0 !important;
            padding-bottom: 0 !important;
        }
        
        /* Dashboard cards - single column for very small screens */
        .dash-info {
            display: flex !important;
            flex-direction: column !important;
            gap: 0.75rem !important;
            margin-bottom: 1rem !important;
        }
        
        .dash-card {
            width: 100% !important;
            height: auto !important;
            min-height: 5rem !important;
            padding: 0.75rem !important;
            border-radius: 0.75rem !important;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1) !important;
            background: white !important;
            display: flex !important;
            justify-content: space-between !important;
            align-items: center !important;
        }
        
        .dash-card h3 {
            font-size: 1.3rem !important;
            margin: 0 !important;
        }
        
        .dash-card p {
            font-size: 0.8rem !important;
            margin-bottom: 0.25rem !important;
        }
        
        .dash-card i {
            font-size: 1.4rem !important;
            padding: 0.6rem !important;
        }
        
        /* Activity and action boxes - stacked */
        .active-action-boxes {
            flex-direction: column !important;
            gap: 1rem !important;
        }
        
        .activities-box, .actions-box {
            width: 100% !important;
            margin: 0 !important;
            border-radius: 0.75rem !important;
        }
        
        .activities-box h5, .actions-box h5 {
            font-size: 0.9rem !important;
            margin-left: 0.75rem !important;
        }
        
        .activities-box ul {
            font-size: 0.8rem !important;
            margin-left: 0.75rem !important;
        }
        
        .activities-box ul li {
            padding: 0.3rem 0 !important;
            line-height: 1.3 !important;
        }
        
        .action-boxes .upper,
        .action-boxes .lower {
            margin-left: 0.75rem !important;
            gap: 0.5rem !important;
        }
        
        .action-card {
            width: 45% !important;
            padding: 0.6rem !important;
            min-height: 3.25rem !important;
            border-radius: 0.5rem !important;
        }
        
        .action-card i {
            font-size: 1.1rem !important;
        }
        
        .action-card p {
            font-size: 0.7rem !important;
            margin: 0.2rem 0 0 0 !important;
        }
    }

    /* VERY SMALL MOBILE PHONES (360px) */
    @media (max-width: 360px) {
        .admin-dash {
            padding: 0.25rem !important;
        }
        
        .dash-title {
            padding: 0.5rem !important;
            margin-bottom: 0.75rem !important;
        }
        
        .dash-title h1 {
            font-size: 1rem !important;
        }
        
        .dash-title p {
            font-size: 0.75rem !important;
        }
        
        .dash-card {
            min-height: 4.5rem !important;
            padding: 0.5rem !important;
        }
        
        .dash-card h3 {
            font-size: 1.1rem !important;
        }
        
        .dash-card p {
            font-size: 0.7rem !important;
        }
        
        .dash-card i {
            font-size: 1.2rem !important;
            padding: 0.5rem !important;
        }
        
        .activities-box h5, .actions-box h5 {
            font-size: 0.85rem !important;
            margin-left: 0.5rem !important;
        }
        
        .activities-box ul {
            font-size: 0.75rem !important;
            margin-left: 0.5rem !important;
        }
        
        .action-boxes .upper,
        .action-boxes .lower {
            margin-left: 0.5rem !important;
            gap: 0.4rem !important;
        }
        
        .action-card {
            width: 45% !important;
            padding: 0.5rem !important;
            min-height: 3rem !important;
        }
        
        .action-card i {
            font-size: 1rem !important;
        }
        
        .action-card p {
            font-size: 0.65rem !important;
        }
    }

    /* LANDSCAPE ORIENTATION FOR MOBILE */
    @media (max-width: 896px) and (orientation: landscape) {
        .admin-dash {
            padding: 0.5rem !important;
        }
        
        .dash-title {
            padding: 0.75rem !important;
            margin-bottom: 0.75rem !important;
        }
        
        .dash-info {
            gap: 1rem !important;
            margin-bottom: 1rem !important;
        }
        
        .dash-card {
            min-height: 4rem !important;
        }
        
        .active-action-boxes {
            gap: 0.75rem !important;
        }
        
        .activities-box, .actions-box {
            padding: 0.75rem !important;
        }
    }

    /* GENERAL MOBILE OPTIMIZATIONS */
    @media (max-width: 768px) {
        /* Touch-friendly interactions */
        .action-card, .dash-card {
            min-height: 44px !important;
            cursor: pointer !important;
            transition: all 0.3s ease !important;
        }
        
        .action-card:hover {
            transform: translateY(-2px) !important;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15) !important;
        }
        
        .dash-card:hover {
            transform: translateY(-1px) !important;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15) !important;
        }
        
        /* Prevent horizontal overflow */
        html, body {
            overflow-x: hidden !important;
            width: 100% !important;
        }
        
        /* Smooth scrolling */
        html {
            scroll-behavior: smooth !important;
        }
        
        /* Box sizing for all elements */
        * {
            box-sizing: border-box !important;
        }
        
        /* Better spacing for mobile */
        .ms-3, .ms-4 {
            margin-left: 0.75rem !important;
        }
        
        .my-3, .my-4 {
            margin-top: 0.75rem !important;
            margin-bottom: 0.75rem !important;
        }
        
        .gap-3, .gap-4 {
            gap: 0.75rem !important;
        }
    }
</style>


    <body>
        <div class="admin-dash">
            <div class="dash-title bg-primary text-white  rounded-3">
                <h1 class="ms-3 pt-3 text-white">Welcome back, Admin!</h1>
                <p class="ms-4 pb-4">Here's what's happening in your socity today.</p>
            </div>

<!-- Only visible on laptop and above -->
<div class="dash-info d-none d-lg-flex justify-content-between gap-4">

  <!-- Total Residents -->
  <div class="dash-card d-flex justify-content-between align-items-center rounded-3 bg-white shadow-sm p-4 w-100">
    <div>
      <p class="mb-1">Total Residents</p>
      <h3 class="fw-bold"><%= totalResidents.total_flat %></h3>
    </div>
    <div>
      <i class="bi bi-people text-white bg-primary p-4 rounded-circle fs-3"></i>
    </div>
  </div>

  <!-- Pending Payments -->
  <div class="dash-card d-flex justify-content-between align-items-center rounded-3 bg-white shadow-sm p-4 w-100">
    <div>
      <p class="mb-1">Pending Payments</p>
      <h3 class="fw-bold">â‚¹45000</h3>
    </div>
    <div>
      <i class="bi bi-credit-card-2-front-fill text-white bg-success p-4 rounded-circle fs-4"></i>
    </div>
  </div>

  <!-- Active Complaints -->
  <div class="dash-card d-flex justify-content-between align-items-center rounded-3 bg-white shadow-sm p-4 w-100">
    <div>
      <p class="mb-1">Active Complaints</p>
      <h3 class="fw-bold"><%= totalComplains %></h3>
    </div>
    <div>
      <i class="bi bi-exclamation-circle-fill text-white bg-danger p-4 rounded-circle fs-4"></i>
    </div>
  </div>

  <!-- Parking Slots -->
  <div class="dash-card d-flex justify-content-between align-items-center rounded-3 bg-white shadow-sm p-4 w-100">
    <div>
      <p class="mb-1">Parking Slots</p>
      <h3 class="fw-bold"><%= totalParkingTaken %>/<%= totalResidents.total_four_wheeler_slot %></h3>
    </div>
    <div>
      <i class="bi bi-car-front-fill text-white p-4 rounded-circle fs-4" style="background-color: #a855f7;"></i>
    </div>
  </div>

</div>


            <div class="active-action-boxes d-flex justify-content-between gap-3">
                <div class="activities-box border  mt-4 rounded-3  bg-white">
                    <div class="activity-title">
                        <h5 class="my-4 ms-4 fw-bold">Recent Activities</h5>
                        <hr>
                        <ul class="ms-3 fs-5">
                            <li>John Doe paid maintenance bill</li>
                            <li>New complaint submitted by Jane Smith</li>
                            <li>John Doe paid maintenance bill</li>
                            <li>John Doe paid maintenance bill</li>
                        </ul>
                    </div>
                </div>

                <div class="actions-box border ms-4 mt-4 rounded-3 bg-white">
                    <div class="actions-title">
                        <h5 class="my-4 ms-4 fw-bold">Quick Actions</h5>
                        <hr>
                        <div class="action-boxes">

                            <div class="upper d-flex justify-content-between ms-4 my-3">

                                <a href="/addNewResident" class="text-decoration-none">
                                    <div
                                        class="action-card border d-flex flex-column justify-content-center align-items-center p-4">
                                        <i class="bi bi-people fs-2 text-primary"></i>
                                        <p class="fw-semibold">Add Resident</p>
                                    </div>
                                </a>


                                <a href="/payments" class="actionBox text-decoration-none me-5">
                                    <div
                                    class="action-card border d-flex flex-column justify-content-center align-items-center p-4">
                                    <i class="bi bi-credit-card-2-front fs-2 text-primary"></i>
                                    <p class="fw-semibold">Record Payment</p>
                                </div>
                                </a>
                            </div>

                            <div class="lower d-flex justify-content-between ms-4 my-3 gap-4">

                                <a href="/approveEvent" class="text-decoration-none">
                                    
                                <div
                                    class="action-card border d-flex flex-column justify-content-center align-items-center p-4">
                                    <i class="bi bi-calendar-event fs-2 text-primary"></i>
                                    <p class="fw-semibold">Schedule Event</p>
                                </div>
                                </a>

                                <a href="/complaints" class="text-decoration-none me-5">
                                    
                                <div
                                    class="action-card border d-flex flex-column justify-content-center align-items-center p-4">
                                    <i class="bi bi-exclamation-circle fs-2 text-primary"></i>
                                    <p class="fw-semibold">View Complaints</p>
                                </div>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </body>