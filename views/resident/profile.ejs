<%- layout("layouts/boilerplate") %>

    <style>
        .profile-icon {
            background: linear-gradient(to bottom, #2a6ef0, #1976f2);
            width: 100px;
            height: 100px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 2rem;
        }

        .left-info {
            width: 40%;
        }

        .right-info {
            width: 60%;
        }

        .left-personal-info {
            width: 50%;
        }

        .right-personal-info {
            width: 50%;
        }

        .extra-left {
            width: 50%;
        }

        .extra-right {
            width: 50%;
        }

        .vehicle-icon {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            background-color: #e6f0ff;
            /* light blue */
            border-radius: 12px;
            width: 58px;
            height: 61px;

        }
    </style>

    <body>
        <div class="profile-container">
            <div class="event-container">
                <div class="com-header d-flex justify-content-between">
                    <div class="left">
                        <h2 class="fw-bold">My Profile</h2>
                        <p class="text-muted ">Manage your personal information and family details</p>
                    </div>
                    <div class="right d-flex align-items-center">
                        <a href="/resident-profile/<%= profileInfo._id %>/edit" class="rounded p-2 px-4 text-white bg-primary border-0 text-decoration-none"> <i class="fas fa-pen"></i> Edit
                            Profile
                        </a>
                    </div>
                </div>
            </div>

            <div class="resident-profile-box d-flex ">
                <div class="border left-info rounded m-3 p-3 bg-white">
                    <div
                        class="profile-icon d-flex align-items-center justify-content-center rounded-circle bg-primary text-white mx-auto mb-2">
                        <i class="fas fa-user"></i>
                    </div>
                    <h4 class="mb-1 fw-bold text-center"><%= profileInfo.first_name %> <%= profileInfo.last_name %></h4>
                    <p class="mb-0 text-primary fw-bold text-center">Home <%= profileInfo.block %>-<%= profileInfo.flat_number %></p>
                    <p class="text-center"> <i class="fas fa-home "></i> Owner</p>

                    <div class="mt-3 ms-0">
                        <p class="mb-2 text-muted">
                            <i class="fas fa-envelope me-2"></i> <%= profileInfo.email %>
                        </p>
                        <p class="mb-2 text-muted">
                            <i class="fas fa-phone me-2"></i> <%= profileInfo.mobile_number %>
                        </p>
                        <p class="mb-2 text-muted">
                            <i class="fas fa-users me-2"></i> <%= profileInfo.name_of_each_member.length %> family members
                        </p>
                        <p class="mb-2 text-muted">
                            <i class="fas fa-car me-2"></i> 2 vehicles
                        </p>
                        <p class="mb-0 text-muted">
                            <i class="fas fa-calendar-alt me-2"></i> Resident since Jan 2023
                        </p>
                    </div>
                    <button class="mt-3 rounded bg-white w-100 text-muted">
                        <i class="fas fa-key py-2 me-2"></i>Change Password
                    </button>

                </div>

                <div class="right-info border m-3 rounded bg-white">
                    <div class="personal-info">
                        <div class="personal-info-head m-3">
                            <h3>Personal Information</h3>
                        </div>
                        <hr>
                        <div class="d-flex">
                            <div class="left-personal-info ">
                                <div class="personal-info-box ms-3 mt-3">
                                    <p class="fw-semibold mb-0">First Name</p>
                                    <p class="text-muted"><%= profileInfo.first_name %></p>
                                </div>


                                <div class="personal-info-box ms-3 ">
                                    <p class="fw-semibold mb-0">Email Address</p>
                                    <p class="text-muted"><%= profileInfo.email %></p>
                                </div>


                                <div class="personal-info-box ms-3">
                                    <p class="fw-semibold mb-0">Date of Birth</p>
                                    <p class="text-muted"><%= profileInfo.birth_date.toISOString().split('T')[0] %></p>
                                </div>
                                <div class="personal-info-box ms-3">
                                    <p class="fw-semibold mb-0">Family member</p>
                                    <p class="text-muted"><%= profileInfo.name_of_each_member.length %></p>
                                </div>
                            </div>
                            <div class="right-personal-info ">
                                <div class="personal-info-box ms-3 mt-3">
                                    <p class="fw-semibold mb-0">Last Name</p>
                                    <p class="text-muted"><%= profileInfo.last_name %></p>
                                </div>


                                <div class="personal-info-box ms-3">
                                    <p class="fw-semibold mb-0">Phone Number</p>
                                    <p class="text-muted"><%= profileInfo.mobile_number %></p>
                                </div>


                                <div class="personal-info-box ms-3">
                                    <p class="fw-semibold mb-0">emergency Contact</p>
                                    <p class="text-muted"><%= profileInfo.emergency_number  %></p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="extra d-flex">
                <div class="extra-left border rounded p-3 m-3 bg-white">
                    <div class="extra-head ">
                        <div class="com-header d-flex justify-content-between">
                            <div class="left">
                                <h4 class="fw-bold">Family Members</h4>
                            </div>
                            <div class="right d-flex align-items-center">
                                <a href="/addFamilyMember/<%= profileInfo._id %>/add" class="rounded p-2 px-4 text-white bg-primary text-decoration-none border-0">
                                    <i class="fas fa-plus"></i>
                                    Add Member
                                </a>
                            </div>
                        </div>
                    </div>
                    <hr>
                    <% profileInfo.name_of_each_member.forEach(member => { %>
                     
                    <div class="member-info d-flex justify-content-between mt-3">
                        <div class="left-member-box">
                            <h5><%= member %></h5>
                        </div>
                        <div class="member-action-icon">
                            <a href=""><i class="fas fa-pen text-primary"></i> &nbsp;&nbsp;</a>
                            <form>
                                <button><i class="fa-solid fa-trash text-danger"></i></button>
                            </form>
                        </div>
                    </div>   
                   <% }) %>

                   

                </div>


                <div class="extra-right border rounded p-3 m-3 bg-white">
                    <div class="extra-head ">
                        <div class="com-header d-flex justify-content-between">
                            <div class="left">
                                <h4 class="fw-bold">Registered Vehicles</h4>
                            </div>
                            <div class="right d-flex align-items-center">
                                <button class="rounded p-2 px-4 text-white bg-primary border-0">
                                    <i class="fas fa-plus"></i>
                                    Add Vehicle
                                </button>
                            </div>
                        </div>
                    </div>
                    <hr>

                    <div class="vehicle-info-box d-flex justify-content-between">
                        <div class="left-vehicle d-flex">
                            <div class="vehicle-icon text-primary ">
                                <i class="bi bi-car-front fs-2 "></i>

                            </div>
                            <div class="vehicle-detail ms-3">
                                <h6 class="mb-0">GJ-01-KY-8878</h6>
                                <p class="text-muted mb-0">i20 • White</p>
                                <p
                                    class="border rounded d-flex align-items-center justify-content-center bg-success bg-opacity-25">
                                    4-wheeler</p>
                            </div>
                        </div>
                        <div class="right-vehicle d-flex align-items-center justify-content-center me-4 mb-2">
                            <i class="fas fa-pen text-primary"></i> &nbsp;&nbsp;&nbsp;
                            <i class="fa-solid fa-trash text-danger"></i>
                        </div>
                    </div>


                    <div class="vehicle-info-box d-flex justify-content-between">
                        <div class="left-vehicle d-flex">
                            <div class="vehicle-icon text-primary">
                                <i class="bi bi-car-front fs-2 "></i>

                            </div>
                            <div class="vehicle-detail ms-3">
                                <h6 class="mb-0">GJ-01-KY-8878</h6>
                                <p class="text-muted mb-0">i20 • White</p>
                                <p
                                    class="border rounded d-flex align-items-center justify-content-center bg-success bg-opacity-25">
                                    4-wheeler</p>
                            </div>
                        </div>
                        <div class="right-vehicle d-flex align-items-center justify-content-center me-4 mb-2">
                            <i class="fas fa-pen text-primary"></i> &nbsp;&nbsp;&nbsp;
                            <i class="fa-solid fa-trash text-danger"></i>
                        </div>
                    </div>


                    <div class="vehicle-info-box d-flex justify-content-between">
                        <div class="left-vehicle d-flex">
                            <div class="vehicle-icon text-primary">
                                <i class="bi bi-car-front fs-2 "></i>

                            </div>
                            <div class="vehicle-detail ms-3">
                                <h6 class="mb-0">GJ-01-KY-8878</h6>
                                <p class="text-muted mb-0">i20 • White</p>
                                <p
                                    class="border rounded d-flex align-items-center justify-content-center bg-success bg-opacity-25">
                                    4-wheeler</p>
                            </div>
                        </div>
                        <div class="right-vehicle d-flex align-items-center justify-content-center me-4 mb-2">
                            <i class="fas fa-pen text-primary"></i> &nbsp;&nbsp;&nbsp;
                            <i class="fa-solid fa-trash text-danger"></i>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </body>