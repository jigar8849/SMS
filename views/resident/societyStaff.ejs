<%- layout("layouts/boilerplate") %>
<%- layout("layouts/boilerplate") %>
<style>
    /* Default styles for desktop and large screens */
    .staff-container {
        padding: 1rem;
    }

    .card-body {
        padding: 1.5rem;
    }

    .fs-1 {
        font-size: 3rem !important;
    }

    .card-title {
        font-size: 1.25rem;
    }

    .text-muted {
        font-size: 1rem;
    }

    /* Layout spacing */
    .container {
        max-width: 1140px;
        margin: auto;
    }

    /* Large desktop screens */
    @media screen and (min-width: 1400px) {
        .staff-container {
            padding: 2rem;
        }

        .card-body {
            padding: 2rem;
        }

        .fs-1 {
            font-size: 3.5rem !important;
        }

        .card-title {
            font-size: 1.5rem;
        }
    }

    /* Desktop */
    @media screen and (max-width: 1199px) {
        .staff-container {
            padding: 1.5rem;
        }

        .card-body {
            padding: 1.25rem;
        }

        .fs-1 {
            font-size: 2.8rem !important;
        }

        .card-title {
            font-size: 1.3rem;
        }
    }

    /* Large tablets (up to 1024px width) */
    @media screen and (max-width: 1024px) {
        .staff-container {
            padding: 1rem;
        }

        .com-header h2 {
            font-size: 1.6rem;
        }

        .com-header p {
            font-size: 1rem;
        }

        .card-body {
            padding: 1rem;
        }

        .fs-1 {
            font-size: 2.4rem !important;
        }

        .card-title {
            font-size: 1.2rem;
        }

        .text-muted {
            font-size: 0.95rem;
        }
    }
    
    /* Standard tablets (up to 768px) */
    @media screen and (max-width: 768px) {
        .staff-container {
            padding: 0.8rem;
        }

        .com-header {
            flex-direction: column;
            text-align: center;
            margin-bottom: 1rem;
        }

        .com-header h2 {
            font-size: 1.4rem;
            margin-bottom: 0.3rem;
        }

        .com-header p {
            font-size: 0.9rem;
        }

        /* Staff cards: full width on tablets for better readability */
        .col-lg-3 {
            flex: 0 0 50%;
            max-width: 50%;
        }

        .card-body {
            padding: 0.8rem;
        }

        .fs-1 {
            font-size: 2rem !important;
        }

        .card-title {
            font-size: 1.1rem;
        }

        .text-muted {
            font-size: 0.85rem;
        }
    }

    /* Small tablets and large phone devices (up to 600px) */
    @media screen and (max-width: 600px) {
        .staff-container {
            padding: 0.6rem;
        }

        .com-header h2 {
            font-size: 1.25rem;
        }

        .com-header p {
            font-size: 0.8rem;
        }

        /* Stack staff cards vertically */
        .col-lg-3, .col-md-4 {
            flex: 0 0 100%;
            max-width: 100%;
        }

        .card-body {
            padding: 0.6rem;
        }

        .fs-1 {
            font-size: 1.6rem !important;
        }

        .card-title {
            font-size: 1rem;
        }

        .text-muted {
            font-size: 0.8rem;
        }

        /* Adjust icon and spacing */
        .bi-person-badge {
            margin-bottom: 1rem;
        }
    }

    /* Standard mobile phones (up to 480px) */
    @media screen and (max-width: 480px) {
        .staff-container {
            padding: 0.4rem;
        }

        .com-header h2 {
            font-size: 1.1rem;
        }

        .com-header p {
            font-size: 0.75rem;
        }

        .card-body {
            padding: 0.5rem;
        }

        .fs-1 {
            font-size: 1.4rem !important;
        }

        .card-title {
            font-size: 0.9rem;
        }

        .text-muted {
            font-size: 0.75rem;
        }

        /* Center text */
        .card-body.text-center {
            padding-left: 0.5rem;
            padding-right: 0.5rem;
        }
    }

    /* Small mobile phones (up to 390px) */
    @media screen and (max-width: 390px) {
        .staff-container {
            padding: 0.3rem;
        }

        .com-header h2 {
            font-size: 1rem;
        }

        .com-header p {
            font-size: 0.7rem;
        }

        .card-body {
            padding: 0.4rem;
        }

        .fs-1 {
            font-size: 1.2rem !important;
        }

        .card-title {
            font-size: 0.85rem;
        }

        .text-muted {
            font-size: 0.7rem;
        }

        .bi-person-badge {
            font-size: 1.5rem !important;
        }
    }

    /* Extra small mobile phones (up to 320px) */
    @media screen and (max-width: 320px) {
        .staff-container {
            padding: 0.2rem;
        }

        .com-header h2 {
            font-size: 0.9rem;
        }

        .com-header p {
            font-size: 0.65rem;
        }

        .card-body {
            padding: 0.3rem;
        }

        .fs-1 {
            font-size: 1rem !important;
        }

        .card-title {
            font-size: 0.8rem;
        }

        .text-muted {
            font-size: 0.65rem;
        }

        .bi-person-badge {
            font-size: 1.3rem !important;
        }
    }

    /* Landscape orientation optimizations for mobiles with short height */
    @media screen and (max-height: 500px) and (orientation: landscape) {
        .staff-container {
            padding: 0.3rem;
        }

        .com-header {
            margin-bottom: 0.5rem;
        }

        .card-body {
            padding: 0.4rem;
        }

        .fs-1 {
            font-size: 1.1rem !important;
        }
    }

    /* High DPI displays */
    @media screen and (-webkit-min-device-pixel-ratio: 2),
           screen and (min-resolution: 192dpi) {
        .card {
            border-width: 0.5px;
        }
    }

    /* Specific device targeting */

    /* iPhone 14 Pro Max, iPhone 13 Pro Max, iPhone 12 Pro Max */
    @media screen and (max-width: 430px) {
        .container {
            max-width: 400px;
        }
    }

    /* iPhone 14, iPhone 13, iPhone 12 */
    @media screen and (max-width: 390px) {
        .container {
            max-width: 360px;
        }
    }

    /* iPhone SE, iPhone 8 */
    @media screen and (max-width: 375px) {
        .container {
            max-width: 345px;
        }
    }

    /* Samsung Galaxy S series, Google Pixel */
    @media screen and (max-width: 360px) {
        .container {
            max-width: 330px;
        }
    }
</style>


<body>
    <div class="staff-container">
        <div class="owner-list-container">
            <div class="event-container">
                <div class="com-header d-flex justify-content-between">
                    <div class="left">
                        <h2 class="fw-bold">Society Staff</h2>
                        <p class="text-muted">This page was regarding to society staff</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="mt-4 border rounded p-3 bg-white">
        <div class="row g-3 align-items-center">
            <!-- Search Box -->
            <div class="col-md-9 col-sm-12">
                <div class="input-group">
                    <span class="input-group-text bg-white border-end-0">
                        <i class="bi bi-search text-muted"></i>
                    </span>
                    <input type="text" id="searchInput" class="form-control border-start-0"
                        placeholder="Search by employee name or role..." oninput="filterStaff()">
                </div>
            </div>

            <!-- Filter Dropdown -->
            <div class="col-md-3 col-sm-12">
                <select id="roleFilter" class="form-select border-primary text-dark fw-semibold" onchange="filterStaff()">
                    <option value="">All Staff</option>
                    <option value="Security Guard">Security Guard</option>
                    <option value="Plumber">Plumber</option>
                    <option value="Other">Other</option>
                </select>
            </div>
        </div>
    </div>

    <div class="container mt-4">
        <div class="row g-4" id="staffContainer">
            <% staffDetails.forEach(staff => { %>
            <div class="col-12 col-sm-6 col-md-4 col-lg-3 staff-card" 
                 data-name="<%= staff.name.toLowerCase() %>" 
                 data-role="<%= staff.role %>">
                <div class="card shadow-sm h-100">
                    <div class="card-body text-center">
                        <i class="bi bi-person-badge fs-1 text-primary mb-3"></i>
                        <h5 class="card-title mb-1"><%= staff.name %></h5>
                        <p class="text-muted mb-2"><%= staff.role %></p>
                        <p class="mb-1">
                            <i class="bi bi-telephone-fill me-2"></i>
                            <%= staff.contact %>
                        </p>
                        <p class="mb-0">
                            <i class="bi bi-geo-alt-fill me-2"></i>
                            <%= staff.location %>
                        </p>
                    </div>
                </div>
            </div>
            <% }); %>
        </div>
    </div>

    <script>
        function filterStaff() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            const roleFilter = document.getElementById('roleFilter').value;
            const staffCards = document.querySelectorAll('.staff-card');

            staffCards.forEach(card => {
                const name = card.dataset.name;
                const role = card.dataset.role;
                const matchesSearch = name.includes(searchTerm) || role.toLowerCase().includes(searchTerm);
                const matchesRole = !roleFilter || role === roleFilter;

                if (matchesSearch && matchesRole) {
                    card.style.display = 'block';
                } else {
                    card.style.display = 'none';
                }
            });
        }

        // Initialize the filter on page load
        document.addEventListener('DOMContentLoaded', filterStaff);
    </script>
</body>